<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.avalon.ms.dao.mybatis.mapper.MsOperatorMapper">
  <resultMap id="BaseResultMap" type="MsOperator">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 29 13:39:43 CST 2017.
    -->
    <result column="id" jdbcType="INTEGER" property="id" />
    <result column="operatorcode" jdbcType="VARCHAR" property="operatorcode" />
    <result column="operatorname" jdbcType="VARCHAR" property="operatorname" />
    <result column="operatorpwd" jdbcType="VARCHAR" property="operatorpwd" />
    <result column="departmentid" jdbcType="INTEGER" property="departmentid" />
    <result column="groupid" jdbcType="INTEGER" property="groupid" />
    <result column="isactive" jdbcType="CHAR" property="isactive" />
    <result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
    <result column="creatorcode" jdbcType="VARCHAR" property="creatorcode" />
  </resultMap>
  <insert id="insert" parameterType="MsOperator">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 29 13:39:43 CST 2017.
    -->
    insert into ms_operator (id,operatorcode, operatorname, 
      operatorpwd, departmentid, groupid, 
      isactive, createtime, creatorcode
      )
    values (#{id,jdbcType=INTEGER}, #{operatorcode,jdbcType=VARCHAR}, #{operatorname,jdbcType=VARCHAR}, 
      #{operatorpwd,jdbcType=VARCHAR}, #{departmentid,jdbcType=INTEGER}, #{groupid,jdbcType=INTEGER}, 
      #{isactive,jdbcType=CHAR}, #{createtime,jdbcType=TIMESTAMP}, #{creatorcode,jdbcType=VARCHAR}
      )
  </insert>
  <select id="selectAll" resultMap="BaseResultMap" parameterType="MsOperator">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Aug 29 13:39:43 CST 2017.
    -->
    select id, operatorcode, operatorname, operatorpwd, departmentid, groupid, isactive, 
    createtime, creatorcode
    from ms_operator
    order by id asc limit #{curPageNo},#{pageSize}
  </select>
  
  <select id="selectByUser" parameterType="MsOperator" resultType="MsOperator">
  	select id, operatorcode, operatorname, operatorpwd, departmentid, groupid, isactive, 
    createtime, creatorcode
    from ms_operator
    <where>
          1 = 1
    	
    	<if test=" id != null ">
    		and id = #{id}
    	</if>
    	<if test="operatorcode != null and operatorcode != '' ">
    		and operatorcode = #{operatorcode}
    	</if>
    	<if test="operatorname != null and operatorname != ''">
    		and operatorname = #{operatorname}
    	</if>
    	<if test="operatorpwd != null and operatorpwd != ''">
    		and operatorpwd = #{operatorpwd}
    	</if>
    </where>
  </select>
  
  <delete id="deleteUser" parameterType="int">
  		delete from ms_operator where id=#{_parameter}
  </delete>
  
  <update id="update" parameterType="MsOperator">
  		 update ms_operator
  		 <trim prefix="set" suffixOverrides=",">
  		 	<if test="operatorname!=null">operatorname=#{operatorname},</if>
  		 	<if test="operatorcode!=null">operatorcode=#{operatorcode},</if>
  		 	<if test="operatorpwd!=null">operatorpwd=#{operatorpwd},</if>
  		 	<if test="departmentid!=null">departmentid=#{departmentid},</if>
  		 	<if test="groupid!=null">groupid=#{groupid},</if>
  		 	<if test="isactive!=null">isactive=#{isactive},</if>
  		 </trim>
  		 where id=#{id}
  </update>
</mapper>